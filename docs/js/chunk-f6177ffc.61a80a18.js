(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f6177ffc"],{"1dde":function(t,e,r){var o=r("d039"),n=r("b622"),s=r("2d00"),i=n("species");t.exports=function(t){return s>=51||!o((function(){var e=[],r=e.constructor={};return r[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"4de4":function(t,e,r){"use strict";var o=r("23e7"),n=r("b727").filter,s=r("1dde"),i=s("filter");o({target:"Array",proto:!0,forced:!i},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},"4e61":function(t,e,r){},"64a7":function(t,e,r){"use strict";r("f1cd")},"6f82":function(t,e,r){"use strict";var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"HeaderBar"},[r("van-nav-bar",{attrs:{title:t.$route.meta.title,"left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft},scopedSlots:t._u([{key:"right",fn:function(){return[t._t("right_login")]},proxy:!0}],null,!0)})],1)},n=[],s={methods:{onClickLeft:function(){this.$router.go(-1)}}},i=s,a=(r("64a7"),r("2877")),c=Object(a["a"])(i,o,n,!1,null,"5fb6b65e",null);e["a"]=c.exports},"6fd2":function(t,e,r){"use strict";r("4e61")},bcc0:function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"order"}},[r("HeaderBar"),t.hasAddress?t._e():r("van-contact-card",{attrs:{type:"add"},on:{click:function(e){return t.$router.push("/address")}}}),t.hasAddress?r("van-contact-card",{attrs:{type:"edit",name:this.address.name,tel:this.address.phone},on:{click:function(e){return t.$router.push("/address")}}}):t._e(),t._l(t.list,(function(t){return r("van-card",{key:t.id,attrs:{num:t.num,price:t.goods.price,title:t.goods.title,thumb:t.goods.cover_url,"lazy-load":!0}})})),r("van-submit-bar",{attrs:{price:100*t.getTotalPrice,"button-text":"确定提交"},on:{submit:t.onSubmit}}),r("van-popup",{style:{height:"30%"},attrs:{closeable:"","close-icon-position":"top-left",position:"bottom"},model:{value:t.showProp,callback:function(e){t.showProp=e},expression:"showProp"}},[r("div",{staticClass:"btns"},[r("van-button",{attrs:{type:"primary",block:"",color:"#42b983"},on:{click:t.goOrderDetail}},[t._v("微信支付")]),r("van-button",{attrs:{type:"primary",block:"",color:"#dc143c"},on:{click:t.goOrderDetail}},[t._v("PayPay支付")])],1)])],2)},n=[],s=(r("4de4"),r("159b"),r("6f82")),i=r("8137"),a={data:function(){return{list:[],address:[],hasAddress:!1,showProp:!1,orderID:""}},components:{HeaderBar:s["a"]},methods:{onSubmit:function(){var t=this;0==this.address.length?this.$toast.fail("请先添加收货地址"):0==this.list.length?this.$toast.fail("不能提交一个空订单"):Object(i["d"])({address_id:this.address.id}).then((function(e){setTimeout((function(){t.showProp=!0}),1e3),t.orderID=e.id}))},goOrderDetail:function(){this.$router.push({path:"/orderdetail",query:{orderID:this.orderID}})},init:function(){var t=this;this.$toast.loading({message:"加载中...",forbidClick:!0}),Object(i["k"])().then((function(e){t.list=e.carts,e.address.filter((function(e){1==e.is_default?(t.address=e,t.hasAddress=!0):t.hasAddress=!1})),0==t.address.length&&t.$toast.fail("请先添加收货地址")}))}},computed:{getTotalPrice:function(){var t=0;return this.list.forEach((function(e){t+=e.num*e.goods.price})),t}},mounted:function(){this.init()}},c=a,d=(r("6fd2"),r("2877")),u=Object(d["a"])(c,o,n,!1,null,"c652dc62",null);e["default"]=u.exports},f1cd:function(t,e,r){}}]);
//# sourceMappingURL=chunk-f6177ffc.61a80a18.js.map