(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ae348b4"],{3477:function(t,o,e){},"64a7":function(t,o,e){"use strict";e("f1cd")},"6f82":function(t,o,e){"use strict";var i=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"HeaderBar"},[e("van-nav-bar",{attrs:{title:t.$route.meta.title,"left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft},scopedSlots:t._u([{key:"right",fn:function(){return[t._t("right_login")]},proxy:!0}],null,!0)})],1)},n=[],a={methods:{onClickLeft:function(){this.$router.go(-1)}}},r=a,s=(e("64a7"),e("2877")),c=Object(s["a"])(r,i,n,!1,null,"5fb6b65e",null);o["a"]=c.exports},9190:function(t,o,e){"use strict";var i=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"GoodItem",on:{click:function(o){return t.goDetail(t.goodID)}}},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.goodImg,expression:"goodImg"}],attrs:{alt:""}}),e("div",{staticClass:"good_info"},[e("span",{staticClass:"title"},[t._v(t._s(t.goodTitle))]),e("span",{staticClass:"price"},[t._v("¥ "+t._s(t.goodPrice))]),e("span",{staticClass:"collect"},[e("i",{staticClass:"iconfont icon-collected"}),t._v(t._s(t.collectNumber))])])])},n=[],a={props:["goodImg","goodTitle","goodPrice","collectNumber","goodID"],methods:{goDetail:function(t){var o=this;this.$router.push({path:"/detail",query:{id:t}}),setTimeout((function(){o.$router.go(0)}),500)}}},r=a,s=(e("dd19"),e("2877")),c=Object(s["a"])(r,i,n,!1,null,"19c17299",null);o["a"]=c.exports},a230:function(t,o,e){},c5eb:function(t,o,e){},dd19:function(t,o,e){"use strict";e("c5eb")},e5e6:function(t,o,e){"use strict";e("a230")},e862:function(t,o,e){"use strict";e("3477")},f13b:function(t,o,e){"use strict";var i=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"tab_control"},t._l(t.tabControlItems,(function(o,i){return e("div",{key:i,staticClass:"tab_control-item",class:t.itemNumber==i?"active":"",on:{click:function(o){return t.clickTabControlItem(i)}}},[e("span",[t._v(t._s(o))])])})),0)},n=[],a={data:function(){return{itemNumber:0}},props:{tabControlItems:{type:Array,default:function(){return[]}}},methods:{clickTabControlItem:function(t){this.itemNumber=t,this.$emit("clickTabControlItem",t)}}},r=a,s=(e("e862"),e("2877")),c=Object(s["a"])(r,i,n,!1,null,"64dd74f4",null);o["a"]=c.exports},f1cd:function(t,o,e){},f574:function(t,o,e){"use strict";e.r(o);var i=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"detail"},[e("HeaderBar"),e("van-image",{attrs:{width:"100%","lazy-load":"",src:t.book.detail.cover_url}}),e("van-card",{attrs:{price:Number(t.book.detail.price).toFixed(2),desc:t.book.detail.description,title:t.book.detail.title,"origin-price":(1.5*t.book.detail.price).toFixed(2)},scopedSlots:t._u([{key:"tags",fn:function(){return[e("van-tag",{attrs:{plain:"",type:"danger"}},[t._v("打折")])]},proxy:!0},{key:"footer",fn:function(){return[e("van-button",{attrs:{type:"warning",disabled:!t.book.detail.stock},on:{click:function(o){return t.addCart()}}},[t._v(" "+t._s(t.book.detail.stock?"加入购物车":"暂无库存")+" ")]),e("van-button",{attrs:{type:"danger",disabled:!t.book.detail.stock},on:{click:t.addAndGoToCart}},[t._v(" "+t._s(t.book.detail.stock?"立即购买":"暂无库存")+" ")])]},proxy:!0}])}),e("TabControl",{attrs:{tabControlItems:t.tabControlItemTitle},on:{clickTabControlItem:t.clickTabControlItem}}),e("div",{directives:[{name:"show",rawName:"v-show",value:0==t.tabControlItemNumber,expression:"tabControlItemNumber==0"}],staticClass:"detail_info",domProps:{innerHTML:t._s(t.book.detail.details)}}),e("div",{directives:[{name:"show",rawName:"v-show",value:1==t.tabControlItemNumber,expression:"tabControlItemNumber==1"}],staticClass:"comments"},[e("van-cell",{attrs:{center:"",title:t.book.detail.comments?"暂无评论(0)":"该功能开发中"}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:2==t.tabControlItemNumber,expression:"tabControlItemNumber==2"}],staticClass:"likes"},t._l(t.book.like_goods,(function(t){return e("GoodItem",{key:t.id,attrs:{goodImg:t.cover_url,goodTitle:t.title,goodPrice:t.price,collectNumber:t.collects_count,goodID:t.id}})})),1)],1)},n=[],a=e("6f82"),r=e("f13b"),s=e("9190"),c=e("8137"),l={data:function(){return{book:{detail:{},like_goods:[],comments:[],flag:!0},tabControlItemTitle:["商品概述","热门评论","相关推荐"],tabControlItemNumber:0}},components:{HeaderBar:a["a"],TabControl:r["a"],GoodItem:s["a"]},mounted:function(){var t=this;this.$toast.loading({message:"加载中...",forbidClick:!0}),Object(c["o"])(this.$route.query.id).then((function(o){console.log("Detail详情全部页数据",o),t.book.detail=o.goods,t.book.like_goods=o.like_goods}))},methods:{clickTabControlItem:function(t){this.tabControlItemNumber=t},addAndGoToCart:function(){var t=this;this.addCart(),setTimeout((function(){t.$router.push("/cart")}),1e3)},addCart:function(){var t=this;Object(c["a"])({goods_id:this.book.detail.id,num:1}).then((function(o){console.log("添加购物车成功后",o),"204"!=o.status&&"201"!=o.status||t.$toast.success("成功添加至购物车")}))}}},u=l,d=(e("e5e6"),e("2877")),m=Object(d["a"])(u,i,n,!1,null,"0d862636",null);o["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2ae348b4.b380eac9.js.map